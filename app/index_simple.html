<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Video Player</title>
    <link rel="stylesheet" href="style.css">
    <script>

    function onReady(e) {
        var videoFigureTag = document.getElementById('video_player');
        var videoTag = document.querySelector("#video_player video");
        var sourceTag = document.querySelector("#video_player video source")
        var aHref = document.getElementsByTagName('a');
        var videos = [];

        for(i = 0; i < aHref.length; i++){
        var source = aHref[i].href;
        aHref[i].addEventListener('click', onAnchorClick, false);
        videos.push(source);
        }
        console.log(aHref);
        console.log(videos);
        console.log(videoFigureTag);
        console.log(videoTag);
        console.log(sourceTag);
    };

    /*initLinks(links){

    };
*/
  function  linkHandler(e){
      console.log(this)
      console.log(this.href);
    }
    window.addEventListener("load", onReady, false);


      function onAnchorClick(e){
          e.preventDefault();
        var video = document.querySelector("#video_player video");
        video.removeAttribute('controls');
        video.removeAttribute('poster');
        var currentElement = e.target //
        console.log(e.target);
        var currentLink = e.target.parentElement; // anchor
        console.log(currentLink);

        var currentHref = currentLink.getAttribute("href");

        var source = document.querySelectorAll("#video_player video source");
        source[0].src = currentHref;

        video.load();
        video.play();

      };

    </script>
</head>
<body>
<h1>Welcome to My Video Player</h1>
<figure id="video_player">
    <video controls poster="./images/nambia1.jpg">
        <source src="./videos/nambia1.mp4" type="video/mp4">
        <source src="./videos/nambia1.webm" type="video/webm">
    </video>
    <figcaption>
        <a href="./videos/nambia1.mp4"><img src="./images/nambia1.jpg" alt="Nambia Timelapse 1"></a>
        <a href="./videos/nambia2.mp4"><img src="./images/nambia2.jpg" alt="Nambia Timelapse 2"></a>
        <a href="./videos/nambia3.mp4"><img src="./images/nambia3.jpg" alt="Nambia Timelapse 3"></a>
    </figcaption>
</figure>

</body>
</html>
